{"ast":null,"code":"var _jsxFileName = \"/Users/pranavsivakumar/Desktop/groove/src/App.js\";\n// import React, { useEffect, useState } from 'react';\n// import Login from './components/login';\n// import { getUserProfile } from './services/spotifyService';\n// import './App.css'; // Assuming there's an App.css for general styles\n\n// function App() {\n//   const [token, setToken] = useState('');\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(false);\n\n//   useEffect(() => {\n//     // Parsing the access token from the URL after Spotify login\n//     const hash = window.location.hash;\n//     let token = window.localStorage.getItem('token');\n\n//     if (!token && hash) {\n//       token = hash\n//         .substring(1)\n//         .split('&')\n//         .find(elem => elem.startsWith('access_token'))\n//         .split('=')[1];\n\n//       window.location.hash = '';\n//       window.localStorage.setItem('token', token);\n//     }\n\n//     setToken(token);\n//   }, []);\n\n//   useEffect(() => {\n//     if (token) {\n//       setLoading(true);\n//       getUserProfile(token)\n//         .then(userData => {\n//           setUser(userData);\n//           setLoading(false);\n//         })\n//         .catch(err => {\n//           console.error('Error fetching user profile:', err);\n//           setLoading(false);\n//         });\n//     }\n//   }, [token]);\n\n//   const logout = () => {\n//     setToken('');\n//     setUser(null);\n//     window.localStorage.removeItem('token');\n//   };\n\n//   return (\n//     <div className=\"App\">\n//       {!token ? (\n//         <Login />\n//       ) : (\n//         <div>\n//           <button onClick={logout}>Logout</button>\n//           {loading ? (\n//             <p>Loading...</p>\n//           ) : (\n//             <div>\n//               <h1>Welcome, {user ? user.display_name : 'Spotify User'}</h1>\n//               {user && (\n//                 <div>\n//                   {user.images.length > 0 && (\n//                     <img src={user.images[0].url} alt=\"Profile\" width=\"100\" />\n//                   )}\n//                   <p>Email: {user.email}</p>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// export default App;\n\nfunction App() {\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [eventCode, setEventCode] = useState('');\n  const navigate = useNavigate(); // Assuming you're using React Router v6 or above\n\n  useEffect(() => {\n    // Parsing the access token from the URL after Spotify login\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem('token');\n    if (!token && hash) {\n      token = hash.substring(1).split('&').find(elem => elem.startsWith('access_token')).split('=')[1];\n      window.location.hash = '';\n      window.localStorage.setItem('token', token);\n    }\n    setToken(token);\n  }, []);\n  useEffect(() => {\n    if (token) {\n      setLoading(true);\n      getUserProfile(token).then(userData => {\n        setUser(userData);\n        setLoading(false);\n      }).catch(err => {\n        console.error('Error fetching user profile:', err);\n        setLoading(false);\n      });\n    }\n  }, [token]);\n  const logout = () => {\n    setToken('');\n    setUser(null);\n    window.localStorage.removeItem('token');\n  };\n  const handleEventCodeSubmit = () => {\n    // Implement logic to validate and navigate to the event based on eventCode\n    console.log(`Entered Event Code: ${eventCode}`);\n    // For example, redirect to the event page:\n    // navigate(`/event/${eventCode}`);\n  };\n  const handleCreateEvent = () => {\n    // Redirect to the create event page\n    navigate('/create-event');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 5\n    }\n  }, !token ? /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }, \"Logout\"), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \"Welcome, \", user ? user.display_name : 'Spotify User'), user && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, user.images.length > 0 && /*#__PURE__*/React.createElement(\"img\", {\n    src: user.images[0].url,\n    alt: \"Profile\",\n    width: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 19\n    }\n  }, \"Email: \", user.email)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"event-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"enter-event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 19\n    }\n  }, \"Enter Event Code\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: eventCode,\n    onChange: e => setEventCode(e.target.value),\n    placeholder: \"Enter event code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleEventCodeSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 19\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 19\n    }\n  }, \"Or Create a New Event\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleCreateEvent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 19\n    }\n  }, \"Create Event\"))))));\n}\nexport default App;","map":{"version":3,"names":["App","token","setToken","useState","user","setUser","loading","setLoading","eventCode","setEventCode","navigate","useNavigate","useEffect","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","getUserProfile","then","userData","catch","err","console","error","logout","removeItem","handleEventCodeSubmit","log","handleCreateEvent","React","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Login","onClick","display_name","images","length","src","url","alt","width","email","type","value","onChange","e","target","placeholder"],"sources":["/Users/pranavsivakumar/Desktop/groove/src/App.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import Login from './components/login';\n// import { getUserProfile } from './services/spotifyService';\n// import './App.css'; // Assuming there's an App.css for general styles\n\n// function App() {\n//   const [token, setToken] = useState('');\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(false);\n\n//   useEffect(() => {\n//     // Parsing the access token from the URL after Spotify login\n//     const hash = window.location.hash;\n//     let token = window.localStorage.getItem('token');\n\n//     if (!token && hash) {\n//       token = hash\n//         .substring(1)\n//         .split('&')\n//         .find(elem => elem.startsWith('access_token'))\n//         .split('=')[1];\n\n//       window.location.hash = '';\n//       window.localStorage.setItem('token', token);\n//     }\n\n//     setToken(token);\n//   }, []);\n\n//   useEffect(() => {\n//     if (token) {\n//       setLoading(true);\n//       getUserProfile(token)\n//         .then(userData => {\n//           setUser(userData);\n//           setLoading(false);\n//         })\n//         .catch(err => {\n//           console.error('Error fetching user profile:', err);\n//           setLoading(false);\n//         });\n//     }\n//   }, [token]);\n\n//   const logout = () => {\n//     setToken('');\n//     setUser(null);\n//     window.localStorage.removeItem('token');\n//   };\n\n//   return (\n//     <div className=\"App\">\n//       {!token ? (\n//         <Login />\n//       ) : (\n//         <div>\n//           <button onClick={logout}>Logout</button>\n//           {loading ? (\n//             <p>Loading...</p>\n//           ) : (\n//             <div>\n//               <h1>Welcome, {user ? user.display_name : 'Spotify User'}</h1>\n//               {user && (\n//                 <div>\n//                   {user.images.length > 0 && (\n//                     <img src={user.images[0].url} alt=\"Profile\" width=\"100\" />\n//                   )}\n//                   <p>Email: {user.email}</p>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// export default App;\n\n\nfunction App() {\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [eventCode, setEventCode] = useState('');\n  const navigate = useNavigate(); // Assuming you're using React Router v6 or above\n\n  useEffect(() => {\n    // Parsing the access token from the URL after Spotify login\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem('token');\n\n    if (!token && hash) {\n      token = hash\n        .substring(1)\n        .split('&')\n        .find(elem => elem.startsWith('access_token'))\n        .split('=')[1];\n\n      window.location.hash = '';\n      window.localStorage.setItem('token', token);\n    }\n\n    setToken(token);\n  }, []);\n\n  useEffect(() => {\n    if (token) {\n      setLoading(true);\n      getUserProfile(token)\n        .then(userData => {\n          setUser(userData);\n          setLoading(false);\n        })\n        .catch(err => {\n          console.error('Error fetching user profile:', err);\n          setLoading(false);\n        });\n    }\n  }, [token]);\n\n  const logout = () => {\n    setToken('');\n    setUser(null);\n    window.localStorage.removeItem('token');\n  };\n\n  const handleEventCodeSubmit = () => {\n    // Implement logic to validate and navigate to the event based on eventCode\n    console.log(`Entered Event Code: ${eventCode}`);\n    // For example, redirect to the event page:\n    // navigate(`/event/${eventCode}`);\n  };\n\n  const handleCreateEvent = () => {\n    // Redirect to the create event page\n    navigate('/create-event');\n  };\n\n  return (\n    <div className=\"App\">\n      {!token ? (\n        <Login />\n      ) : (\n        <div>\n          <button onClick={logout}>Logout</button>\n          {loading ? (\n            <p>Loading...</p>\n          ) : (\n            <div>\n              <h1>Welcome, {user ? user.display_name : 'Spotify User'}</h1>\n              {user && (\n                <div>\n                  {user.images.length > 0 && (\n                    <img src={user.images[0].url} alt=\"Profile\" width=\"100\" />\n                  )}\n                  <p>Email: {user.email}</p>\n                </div>\n              )}\n              <div className=\"event-actions\">\n                <div className=\"enter-event\">\n                  <h3>Enter Event Code</h3>\n                  <input\n                    type=\"text\"\n                    value={eventCode}\n                    onChange={e => setEventCode(e.target.value)}\n                    placeholder=\"Enter event code\"\n                  />\n                  <button onClick={handleEventCodeSubmit}>Submit</button>\n                </div>\n                <div className=\"create-event\">\n                  <h3>Or Create a New Event</h3>\n                  <button onClick={handleCreateEvent}>Create Event</button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}