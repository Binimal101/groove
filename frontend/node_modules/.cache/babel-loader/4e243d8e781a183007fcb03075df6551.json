{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import Login from './components/login';\n// import { getUserProfile } from './services/spotifyService';\n// import './App.css'; // Assuming there's an App.css for general styles\n\n// function App() {\n//   const [token, setToken] = useState('');\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(false);\n\n//   useEffect(() => {\n//     // Parsing the access token from the URL after Spotify login\n//     const hash = window.location.hash;\n//     let token = window.localStorage.getItem('token');\n\n//     if (!token && hash) {\n//       token = hash\n//         .substring(1)\n//         .split('&')\n//         .find(elem => elem.startsWith('access_token'))\n//         .split('=')[1];\n\n//       window.location.hash = '';\n//       window.localStorage.setItem('token', token);\n//     }\n\n//     setToken(token);\n//   }, []);\n\n//   useEffect(() => {\n//     if (token) {\n//       setLoading(true);\n//       getUserProfile(token)\n//         .then(userData => {\n//           setUser(userData);\n//           setLoading(false);\n//         })\n//         .catch(err => {\n//           console.error('Error fetching user profile:', err);\n//           setLoading(false);\n//         });\n//     }\n//   }, [token]);\n\n//   const logout = () => {\n//     setToken('');\n//     setUser(null);\n//     window.localStorage.removeItem('token');\n//   };\n\n//   return (\n//     <div className=\"App\">\n//       {!token ? (\n//         <Login />\n//       ) : (\n//         <div>\n//           <button onClick={logout}>Logout</button>\n//           {loading ? (\n//             <p>Loading...</p>\n//           ) : (\n//             <div>\n//               <h1>Welcome, {user ? user.display_name : 'Spotify User'}</h1>\n//               {user && (\n//                 <div>\n//                   {user.images.length > 0 && (\n//                     <img src={user.images[0].url} alt=\"Profile\" width=\"100\" />\n//                   )}\n//                   <p>Email: {user.email}</p>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// export default App;","map":{"version":3,"names":[],"sources":["/Users/pranavsivakumar/Desktop/groove/src/App.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import Login from './components/login';\n// import { getUserProfile } from './services/spotifyService';\n// import './App.css'; // Assuming there's an App.css for general styles\n\n// function App() {\n//   const [token, setToken] = useState('');\n//   const [user, setUser] = useState(null);\n//   const [loading, setLoading] = useState(false);\n\n//   useEffect(() => {\n//     // Parsing the access token from the URL after Spotify login\n//     const hash = window.location.hash;\n//     let token = window.localStorage.getItem('token');\n\n//     if (!token && hash) {\n//       token = hash\n//         .substring(1)\n//         .split('&')\n//         .find(elem => elem.startsWith('access_token'))\n//         .split('=')[1];\n\n//       window.location.hash = '';\n//       window.localStorage.setItem('token', token);\n//     }\n\n//     setToken(token);\n//   }, []);\n\n//   useEffect(() => {\n//     if (token) {\n//       setLoading(true);\n//       getUserProfile(token)\n//         .then(userData => {\n//           setUser(userData);\n//           setLoading(false);\n//         })\n//         .catch(err => {\n//           console.error('Error fetching user profile:', err);\n//           setLoading(false);\n//         });\n//     }\n//   }, [token]);\n\n//   const logout = () => {\n//     setToken('');\n//     setUser(null);\n//     window.localStorage.removeItem('token');\n//   };\n\n//   return (\n//     <div className=\"App\">\n//       {!token ? (\n//         <Login />\n//       ) : (\n//         <div>\n//           <button onClick={logout}>Logout</button>\n//           {loading ? (\n//             <p>Loading...</p>\n//           ) : (\n//             <div>\n//               <h1>Welcome, {user ? user.display_name : 'Spotify User'}</h1>\n//               {user && (\n//                 <div>\n//                   {user.images.length > 0 && (\n//                     <img src={user.images[0].url} alt=\"Profile\" width=\"100\" />\n//                   )}\n//                   <p>Email: {user.email}</p>\n//                 </div>\n//               )}\n//             </div>\n//           )}\n//         </div>\n//       )}\n//     </div>\n//   );\n// }\n\n// export default App;\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module"}