{"ast":null,"code":"var _jsxFileName = \"/Users/pranavsivakumar/Desktop/groove/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport Login from './components/login';\nimport { getUserProfile } from './services/spotifyService';\nfunction App() {\n  var _user$images$;\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState(null);\n  useEffect(() => {\n    // Parsing the access token from the URL after Spotify login\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem('token');\n    if (!token && hash) {\n      token = hash.substring(1).split('&').find(elem => elem.startsWith('access_token')).split('=')[1];\n      window.location.hash = '';\n      window.localStorage.setItem('token', token);\n    }\n    setToken(token);\n  }, []);\n  useEffect(() => {\n    if (token) {\n      getUserProfile(token).then(userData => {\n        setUser(userData);\n      });\n    }\n  }, [token]);\n  const logout = () => {\n    setToken('');\n    window.localStorage.removeItem('token');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 5\n    }\n  }, !token ? /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, \"Logout\"), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, \"Welcome, \", user ? user.display_name : 'Spotify User'), user && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: (_user$images$ = user.images[0]) === null || _user$images$ === void 0 ? void 0 : _user$images$.url,\n    alt: \"Profile\",\n    width: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 15\n    }\n  }, \"Email: \", user.email))));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Login","getUserProfile","App","_user$images$","token","setToken","user","setUser","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","then","userData","logout","removeItem","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","display_name","src","images","url","alt","width","email"],"sources":["/Users/pranavsivakumar/Desktop/groove/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Login from './components/login';\nimport { getUserProfile } from './services/spotifyService';\n\nfunction App() {\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    // Parsing the access token from the URL after Spotify login\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem('token');\n\n    if (!token && hash) {\n      token = hash\n        .substring(1)\n        .split('&')\n        .find(elem => elem.startsWith('access_token'))\n        .split('=')[1];\n\n      window.location.hash = '';\n      window.localStorage.setItem('token', token);\n    }\n\n    setToken(token);\n  }, []);\n\n  useEffect(() => {\n    if (token) {\n      getUserProfile(token).then(userData => {\n        setUser(userData);\n      });\n    }\n  }, [token]);\n\n  const logout = () => {\n    setToken('');\n    window.localStorage.removeItem('token');\n  };\n\n  return (\n    <div className=\"App\">\n      {!token ? (\n        <Login />\n      ) : (\n        <div>\n          <button onClick={logout}>Logout</button>\n          <h1>Welcome, {user ? user.display_name : 'Spotify User'}</h1>\n          {user && (\n            <div>\n              <img src={user.images[0]?.url} alt=\"Profile\" width=\"100\" />\n              <p>Email: {user.email}</p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,oBAAoB;AACtC,SAASC,cAAc,QAAQ,2BAA2B;AAE1D,SAASC,GAAGA,CAAA,EAAG;EAAA,IAAAC,aAAA;EACb,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACd;IACA,MAAMU,IAAI,GAAGC,MAAM,CAACC,QAAQ,CAACF,IAAI;IACjC,IAAIJ,KAAK,GAAGK,MAAM,CAACE,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAEhD,IAAI,CAACR,KAAK,IAAII,IAAI,EAAE;MAClBJ,KAAK,GAAGI,IAAI,CACTK,SAAS,CAAC,CAAC,CAAC,CACZC,KAAK,CAAC,GAAG,CAAC,CACVC,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,UAAU,CAAC,cAAc,CAAC,CAAC,CAC7CH,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;MAEhBL,MAAM,CAACC,QAAQ,CAACF,IAAI,GAAG,EAAE;MACzBC,MAAM,CAACE,YAAY,CAACO,OAAO,CAAC,OAAO,EAAEd,KAAK,CAAC;IAC7C;IAEAC,QAAQ,CAACD,KAAK,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAENN,SAAS,CAAC,MAAM;IACd,IAAIM,KAAK,EAAE;MACTH,cAAc,CAACG,KAAK,CAAC,CAACe,IAAI,CAACC,QAAQ,IAAI;QACrCb,OAAO,CAACa,QAAQ,CAAC;MACnB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,CAAChB,KAAK,CAAC,CAAC;EAEX,MAAMiB,MAAM,GAAGA,CAAA,KAAM;IACnBhB,QAAQ,CAAC,EAAE,CAAC;IACZI,MAAM,CAACE,YAAY,CAACW,UAAU,CAAC,OAAO,CAAC;EACzC,CAAC;EAED,oBACEzB,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,KAAK;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACjB,CAAC1B,KAAK,gBACLP,KAAA,CAAA0B,aAAA,CAACvB,KAAK;IAAAyB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,gBAETjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEjC,KAAA,CAAA0B,aAAA;IAAQQ,OAAO,EAAEV,MAAO;IAAAI,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAc,CAAC,eACxCjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,WAAS,EAACxB,IAAI,GAAGA,IAAI,CAAC0B,YAAY,GAAG,cAAmB,CAAC,EAC5D1B,IAAI,iBACHT,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEjC,KAAA,CAAA0B,aAAA;IAAKU,GAAG,GAAA9B,aAAA,GAAEG,IAAI,CAAC4B,MAAM,CAAC,CAAC,CAAC,cAAA/B,aAAA,uBAAdA,aAAA,CAAgBgC,GAAI;IAACC,GAAG,EAAC,SAAS;IAACC,KAAK,EAAC,KAAK;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAAE,CAAC,eAC3DjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,SAAO,EAACxB,IAAI,CAACgC,KAAS,CACtB,CAEJ,CAEJ,CAAC;AAEV;AAEA,eAAepC,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module"}