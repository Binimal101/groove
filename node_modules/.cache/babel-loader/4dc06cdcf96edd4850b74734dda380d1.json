{"ast":null,"code":"var _jsxFileName = \"/Users/pranavsivakumar/Desktop/groove/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport Login from './components/login';\nimport { getUserProfile } from './services/spotifyService';\nimport './App.css';\nimport { useNavigate } from 'react-router-dom';\nfunction App() {\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [eventCode, setEventCode] = useState('');\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Parsing the access token from the URL after Spotify login\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem('token');\n    if (!token && hash) {\n      var _hash$substring$split;\n      const parsedToken = (_hash$substring$split = hash.substring(1).split('&').find(elem => elem.startsWith('access_token'))) === null || _hash$substring$split === void 0 ? void 0 : _hash$substring$split.split('=')[1];\n      if (parsedToken) {\n        token = parsedToken;\n        window.location.hash = '';\n        window.localStorage.setItem('token', token);\n        navigate('/'); // Redirect to root after setting token\n      }\n    }\n    setToken(token);\n  }, [navigate]);\n  useEffect(() => {\n    if (token) {\n      setLoading(true);\n      getUserProfile(token).then(userData => {\n        setUser(userData);\n        setLoading(false);\n      }).catch(err => {\n        console.error('Error fetching user profile:', err);\n        setLoading(false);\n      });\n    }\n  }, [token]);\n  const logout = () => {\n    setToken('');\n    setUser(null);\n    window.localStorage.removeItem('token');\n  };\n  const handleEventCodeSubmit = () => {\n    console.log(`Entered Event Code: ${eventCode}`);\n    navigate(`/event/${eventCode}`);\n  };\n  const handleCreateEvent = () => {\n    navigate('/create-event');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, !token ? /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, \"Logout\"), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, \"Welcome, \", user ? user.display_name : 'Spotify User'), user && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, user.images.length > 0 && /*#__PURE__*/React.createElement(\"img\", {\n    src: user.images[0].url,\n    alt: \"Profile\",\n    width: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 19\n    }\n  }, \"Email: \", user.email)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"event-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"enter-event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, \"Enter Event Code\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: eventCode,\n    onChange: e => setEventCode(e.target.value),\n    placeholder: \"Enter event code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleEventCodeSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 19\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create-event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 19\n    }\n  }, \"Or Create a New Event\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleCreateEvent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 19\n    }\n  }, \"Create Event\"))))));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Login","getUserProfile","useNavigate","App","token","setToken","user","setUser","loading","setLoading","eventCode","setEventCode","navigate","hash","window","location","localStorage","getItem","_hash$substring$split","parsedToken","substring","split","find","elem","startsWith","setItem","then","userData","catch","err","console","error","logout","removeItem","handleEventCodeSubmit","log","handleCreateEvent","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","display_name","images","length","src","url","alt","width","email","type","value","onChange","e","target","placeholder"],"sources":["/Users/pranavsivakumar/Desktop/groove/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Login from './components/login';\nimport { getUserProfile } from './services/spotifyService';\nimport './App.css'; \nimport { useNavigate } from 'react-router-dom';\n\nfunction App() {\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [eventCode, setEventCode] = useState('');\n  const navigate = useNavigate(); \n\n  useEffect(() => {\n    // Parsing the access token from the URL after Spotify login\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem('token');\n\n    if (!token && hash) {\n      const parsedToken = hash\n        .substring(1)\n        .split('&')\n        .find(elem => elem.startsWith('access_token'))\n        ?.split('=')[1];\n\n      if (parsedToken) {\n        token = parsedToken;\n        window.location.hash = ''; \n        window.localStorage.setItem('token', token);\n        navigate('/'); // Redirect to root after setting token\n      }\n    }\n\n    setToken(token);\n  }, [navigate]);\n\n  useEffect(() => {\n    if (token) {\n      setLoading(true);\n      getUserProfile(token)\n        .then(userData => {\n          setUser(userData);\n          setLoading(false);\n        })\n        .catch(err => {\n          console.error('Error fetching user profile:', err);\n          setLoading(false);\n        });\n    }\n  }, [token]);\n\n  const logout = () => {\n    setToken('');\n    setUser(null);\n    window.localStorage.removeItem('token');\n  };\n\n  const handleEventCodeSubmit = () => {\n    console.log(`Entered Event Code: ${eventCode}`);\n    navigate(`/event/${eventCode}`);\n  };\n\n  const handleCreateEvent = () => {\n    navigate('/create-event');\n  };\n\n  return (\n    <div className=\"App\">\n      {!token ? (\n        <Login />\n      ) : (\n        <div>\n          <button onClick={logout}>Logout</button>\n          {loading ? (\n            <p>Loading...</p>\n          ) : (\n            <div>\n              <h1>Welcome, {user ? user.display_name : 'Spotify User'}</h1>\n              {user && (\n                <div>\n                  {user.images.length > 0 && (\n                    <img src={user.images[0].url} alt=\"Profile\" width=\"100\" />\n                  )}\n                  <p>Email: {user.email}</p>\n                </div>\n              )}\n              <div className=\"event-actions\">\n                <div className=\"enter-event\">\n                  <h3>Enter Event Code</h3>\n                  <input\n                    type=\"text\"\n                    value={eventCode}\n                    onChange={e => setEventCode(e.target.value)}\n                    placeholder=\"Enter event code\"\n                  />\n                  <button onClick={handleEventCodeSubmit}>Submit</button>\n                </div>\n                <div className=\"create-event\">\n                  <h3>Or Create a New Event</h3>\n                  <button onClick={handleCreateEvent}>Create Event</button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}