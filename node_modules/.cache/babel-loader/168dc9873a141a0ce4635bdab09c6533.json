{"ast":null,"code":"var _jsxFileName = \"/Users/pranavsivakumar/Desktop/groove/src/App.js\";\nimport React, { useEffect, useState } from 'react';\nimport Login from './components/login';\nimport { getUserProfile } from './services/spotifyService';\nimport './App.css'; // Assuming there's an App.css for general styles\n\nfunction App() {\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    // Parsing the access token from the URL after Spotify login\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem('token');\n    if (!token && hash) {\n      token = hash.substring(1).split('&').find(elem => elem.startsWith('access_token')).split('=')[1];\n      window.location.hash = '';\n      window.localStorage.setItem('token', token);\n    }\n    setToken(token);\n  }, []);\n  useEffect(() => {\n    if (token) {\n      setLoading(true);\n      getUserProfile(token).then(userData => {\n        setUser(userData);\n        setLoading(false);\n      }).catch(err => {\n        console.error('Error fetching user profile:', err);\n        setLoading(false);\n      });\n    }\n  }, [token]);\n  const logout = () => {\n    setToken('');\n    setUser(null);\n    window.localStorage.removeItem('token');\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 5\n    }\n  }, !token ? /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: logout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Logout\"), loading ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, \"Loading...\") : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Welcome, \", user ? user.display_name : 'Spotify User'), user && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, user.images.length > 0 && /*#__PURE__*/React.createElement(\"img\", {\n    src: user.images[0].url,\n    alt: \"Profile\",\n    width: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, \"Email: \", user.email)))));\n}\nexport default App;","map":{"version":3,"names":["React","useEffect","useState","Login","getUserProfile","App","token","setToken","user","setUser","loading","setLoading","hash","window","location","localStorage","getItem","substring","split","find","elem","startsWith","setItem","then","userData","catch","err","console","error","logout","removeItem","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onClick","display_name","images","length","src","url","alt","width","email"],"sources":["/Users/pranavsivakumar/Desktop/groove/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Login from './components/login';\nimport { getUserProfile } from './services/spotifyService';\nimport './App.css'; // Assuming there's an App.css for general styles\n\nfunction App() {\n  const [token, setToken] = useState('');\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    // Parsing the access token from the URL after Spotify login\n    const hash = window.location.hash;\n    let token = window.localStorage.getItem('token');\n\n    if (!token && hash) {\n      token = hash\n        .substring(1)\n        .split('&')\n        .find(elem => elem.startsWith('access_token'))\n        .split('=')[1];\n\n      window.location.hash = '';\n      window.localStorage.setItem('token', token);\n    }\n\n    setToken(token);\n  }, []);\n\n  useEffect(() => {\n    if (token) {\n      setLoading(true);\n      getUserProfile(token)\n        .then(userData => {\n          setUser(userData);\n          setLoading(false);\n        })\n        .catch(err => {\n          console.error('Error fetching user profile:', err);\n          setLoading(false);\n        });\n    }\n  }, [token]);\n\n  const logout = () => {\n    setToken('');\n    setUser(null);\n    window.localStorage.removeItem('token');\n  };\n\n  return (\n    <div className=\"App\">\n      {!token ? (\n        <Login />\n      ) : (\n        <div>\n          <button onClick={logout}>Logout</button>\n          {loading ? (\n            <p>Loading...</p>\n          ) : (\n            <div>\n              <h1>Welcome, {user ? user.display_name : 'Spotify User'}</h1>\n              {user && (\n                <div>\n                  {user.images.length > 0 && (\n                    <img src={user.images[0].url} alt=\"Profile\" width=\"100\" />\n                  )}\n                  <p>Email: {user.email}</p>\n                </div>\n              )}\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}